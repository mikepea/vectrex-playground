<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8">
<meta name="dcterms.rights" content="Copyright 2017 &copy; Manta BlueSky, All Rights Reserved">
<link rel="stylesheet" type="text/css" href="http://roadsidethoughts.com/urst.css">
<link rel="author" href="https://plus.google.com/118279428097774141269/"/>
<script type="text/javascript">
function tdf_bof()
{ if (top.location != location) { top.location.href = document.location.href; }
}
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-16983354-1']);
_gaq.push(['_trackPageview']);

_gaq.push(['_trackPageLoadTime']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src =  'http://www.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
if (document.referrer.match(/google./gi) && document.referrer.match(/cd/gi)) {
  var myString = document.referrer;
  var r = myString.match(/cd=(.*?)&/);
  var rank = parseInt(r[1]);
  var kw = myString.match(/q=(.*?)&/);
  if (kw[1].length > 0) {
    var keyWord = decodeURI(kw[1]);
  } else {
    keyWord = "(not provided)";
  }
  var p = document.location.pathname;
  _gaq.push(['_trackEvent', 'RST-GSearch', keyWord, p, rank, true]);
}
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script type="application/ld+json">
{ "@context" : "http://schema.org",
"@type" : "WebSite",
"name" : "RoadsideThoughts",
"url" : "http://roadsidethoughts.com",
"description": "A Gazetteer for the United States and Canada"
}
</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage">

<table class="trst">

<tr><td class="vrst" colspan="2">&#160;<a id="top"></a>
    <a class="vrst1" href="http://roadsidethoughts.com/">From RoadsideThoughts ...</a><br />
    <a class="vrst2" href="http://roadsidethoughts.com/vectrex/">A Bit of Vectrex History</a>
    </td></tr>

<tr class="trstb"><td class="tbar" colspan="2">
    <table class="tsct">
    <tr><td class="tsct wd120"> &#160;<br /><a class="tsct" href="http://roadsidethoughts.com/vectrex/">Introduction</a></td>
        <td class="tsct wd120"><a class="tsct" href="http://roadsidethoughts.com/vectrex/vectrex-programmers-guide.htm">Programmer's<br />Guide</a></td>
        <td class="tsct wd120"> &#160;<br /><a class="tsct" href="http://roadsidethoughts.com/vectrex/the-rum.htm">The RUM</a></td>
        <td class="tsct wd120"> &#160;<br /><a class="tsct" href="http://roadsidethoughts.com/vectrex/mine-storm.htm">Mine Storm</a></td>
        <td class="tsct wd120"><a class="tsct" href="http://roadsidethoughts.com/vectrex/fortress-of-narzod.htm">Fortress of<br />Narzod</a></td>
        <td class="tsct wd120"> &#160; <br /><a class="tsct" href="http://roadsidethoughts.com/vectrex/dark-tower.htm">Dark Tower</a></td>
        <td class="vsct wd60"> &#160; </td>
        <td class="vsct wd120"> &#160; <br /><a class="tsct" href="http://roadsidethoughts.com/sitemap.htm">Sitemap</a></td>
    </tr></table></td></tr>


<tr><td class="thlk"><div class="i2"><span itemscope itemtype='http://data-vocabulary.org/Breadcrumb'><a href='http://roadsidethoughts.com/' itemprop='url' title='Home page for RoadsideThoughts: A Gazetteer for the United States and Canada'><span itemprop='title'>Home</span></a> &gt;&gt; </span><span itemscope itemtype='http://data-vocabulary.org/Breadcrumb'><a href='http://roadsidethoughts.com/vectrex/' itemprop='url' title='Home page for A Bit of Vectrex History'><span itemprop='title'>Vectrex</span></a> &gt;&gt; </span><span itemscope itemtype='http://data-vocabulary.org/Breadcrumb'><a href='http://roadsidethoughts.com/vectrex/vectrex-programmers-guide.htm' itemprop='url'><span itemprop='title'> Programmer's Guide</span></a></span></div> &#160; </td><td class="tsrch rt"><form action="http://roadsidethoughts.com/search.htm" id="cse-search-box"><div><input type="hidden" name="cx" value="partner-pub-6853254609661254:i7pisc-77z3" /><input type="hidden" name="cof" value="FORID:10" /><input type="hidden" name="ie" value="ISO-8859-1" /><input type="text" name="q" size="20" /><input type="submit" name="sa" value="Search" /></div></form><script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script> &#160; &#160; </td></tr>

</table>

<table class="wd100p">
<tr><td class="wd40">&#160;</td><td>
<h1 class="pt">Vectrex Programmer's Guide</h1><hr class="pt">

<br /><div class="vh1"><h1 class="ctr">Links to Additional Contents</h1></div>

<br /><div class="ketr"><table><tr><td class="wd160 ctr"> 

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- vectrex-160x600 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-6853254609661254"
     data-ad-slot="2830915509"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</td></tr></table></div>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/breaker-and-the-6502.htm">Project Breaker and the 6502 Vectrex</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/vectrex-hardware-description.htm">Hardware Description</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/vectrex-memory-map.htm">Memory Map</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/vectrex-6522-interface-adapter.htm">The 6522 Interface Adapter</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/vectrex-programmable-sound-generator.htm">Programmable Sound Generator</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/rum-routines-by-function.htm">RUM Routines by Function</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/rum-routines-alphabetical.htm">RUM Routines in Alphabetical Order</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/act09-assembler.htm">ACT09 Assembler</a></p>

<p class="i3"><a href="http://roadsidethoughts.com/vectrex/the-development-environment.htm">The Development Environment</a></p>


<br /><div class="vh1"><h1 class="ctr">Some Programming Considerations</h1></div>

<br /><p class="i1">Below are a few programming notes that might help when reading through these pages:</p><ul class="i1">

<li>The address of the instruction that is being executed is located in the program counter&#160;(also called the 'PC'&#160;register).  The contents of 
the program counter are incremented, byte-by-byte, as instructions are read.  Keep in mind that instructions can consist of one or more bytes, depending 
on function and addressing modes.</li>

<li>When a subroutine is invoked with either a 'JSR' or 'BSR' call, the address of the next instruction is pushed onto the stack and then the address of 
the first byte of the subroutine is entered into the program counter - execution continues within the subroutine.  When the subroutine is done, you will 
find that an 'RTS' instruction will be used to exit the subroutine.  The 'RTS' instruction will pop 2 bytes from the stack and load those bytes into the 
program counter.  Execution will continue with the instruction after the calling 'JSR' or 'BSR'.

<br /><br />The 6809 has an unusual feature: Multiple general purpose registers can be pushed onto the stack with just a single instrunction - with other 
processors, there is usually a PUSH instruction for each register to be pushed.  The 6809 also permits multiple registers to be popped (or pulled) with a 
single instruction.  The most interesting feature of these instructions is that it permits the program counter ('PC') to be pushed and popped like any 
other register.

<br /><br />For example:

<br /><br /><table class="i4"><tr>
<td><table class="brd1">
<tr><td>SUBR &#160; &#160; &#160; </td><td>PUSH &#160; &#160; &#160; </td><td>A &#160; </td></tr>
<tr><td> &#160; </td><td>PUSH &#160; </td><td>B &#160; </td></tr>
<tr><td> &#160; </td><td>PUSH &#160; </td><td>X &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td>PULL &#160; </td><td>X &#160; </td></tr>
<tr><td> &#160; </td><td>PULL &#160; </td><td>B &#160; </td></tr>
<tr><td> &#160; </td><td>PULL &#160; </td><td>A &#160; </td></tr>
<tr><td> &#160; </td><td>RTS &#160; </td><td> &#160; </td></tr>
</table></td>

<td class="ctr wd100"><br /><br /> can be <br /> written as </td>

<td><table class="brd1">
<tr><td>SUBR &#160; &#160; &#160; </td><td>PSHS &#160; &#160; &#160; </td><td>A,B,X &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td>PULS &#160; </td><td>A,B,X &#160; </td></tr>
<tr><td> &#160; </td><td>RTS &#160; </td><td> &#160; </td></tr>
</table></td>

<td class="ctr wd100"><br /><br /> or a little more <br /> efficently </td>

<td><table class="brd1">
<tr><td>SUBR &#160; &#160; &#160; </td><td>PSHS &#160; &#160; &#160; </td><td>A,B,X &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td> &#160; . &#160; </td><td> &#160; </td></tr>
<tr><td> &#160; </td><td>PULS &#160; </td><td>A,B,X,PC &#160; </td></tr>
</table></td>

</tr></table>

<br />As you look through the code, you'll see a mix where either an 'RTS' or a 'PULS' instruction has been used to exit a subroutine.  Generally 
speaking, what drives the choice is whether any registers where pushed onto the stack when the subroutine was entered.

<br /><br />Just one more thought on this subject: You'll notice in the above example that the pull order is the reverse of the push order - the stack is 
a last-in/first-out structure.  When using the 6809 'PSHS' and 'PULS' instructions, the push/pull order is inherent to the instruction.  Just make sure 
that your pushes and pulls match before pulling the program counter.</li>

<li>Instructions can take a varying amount of time (or cycles) to execute.  Execution time can be short and of fixed duration like when loading a 
register and unpredictably long when performing a multiply.  Normally, the amount of time to execute a section of code doesn't matter too much (as long 
as it's not excessive).  With the Vectrex, there are areas of code where the time of execution is crucial - right down to the number of cycles that it 
takes.  Truly, a couple of cycles too long or too short can have a noticeable impact on what appears on the screen.

<br /><br />Some situations might require an exact cycle count.  While always needing attention to detail, this type of code can be difficult to 
accomplish because conditional instructions (like 'BNE' or 'BCS') will require additional cycles if the condition is true.  Getting the right number of 
cycles can result in some peculiar looking code.</li>
</ul>

<br /><br />&#160;</td><td class="wd30">&#160;</td></tr>
<tr><td>&#160;</td><td>

<table class="ctr">


<tr><td class="fsrch lt"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- link-vectrex -->
<ins class="adsbygoogle"
     style="display:inline-block;width:468px;height:15px"
     data-ad-client="ca-pub-6853254609661254"
     data-ad-slot="7097834702"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</td><td class="fsrch rt">
<form action="http://roadsidethoughts.com/search.htm" id="cse-search-box2">
<div>
<input type="hidden" name="cx" value="partner-pub-6853254609661254:i7pisc-77z3" />
<input type="hidden" name="cof" value="FORID:10" />
<input type="hidden" name="ie" value="ISO-8859-1" />
<input type="text" name="q" size="20" />
<input type="submit" name="sa" value="Search" />
</div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box2&amp;lang=en"></script>
</td></tr>


   <tr><td class="ctr">
   <table><tr><td colspan="5"> &#160; </td></tr><tr><td colspan="5"> &#160; </td></tr><tr><td colspan="5"> &#160; </td></tr>
       <tr><td class="ctr" colspan="5"><hr class="ctr wd750 ht2"></td></tr>

   <tr><td class="fbar"><a href="http://roadsidethoughts.com/vectrex/"
               title="Return to our Vectrex home page">Home<br />Page</a></td>

       <td class="fbar"><a href="http://roadsidethoughts.com/sitemap.htm"
               title="Having trouble navigating our website?  Our sitemap might help">Sitemap</a></td>

       <td class="fbar"><a href="http://roadsidethoughts.com/privacy.htm"
               title="Our statement about the privacy of your visit">Privacy<br />Statement</a></td>

       <td class="fbar"><a href="http://roadsidethoughts.com/terms.htm"
               title="The terms, conditions and notices that govern your use of the information from RoadsideThoughts">Terms<br />of Use</a></td>

       <td class="fbar"><a href="http://roadsidethoughts.com/vectrex/feedback.htm"
               title="How to contact us">Feedback</a></td>

   </tr><tr><td class="ctr" colspan="5"><hr class="ctr wd750 ht2"></td></tr>
   </table></td></tr>


   <tr><td>&#160;</td></tr>
   <tr><td>&#160;</td></tr>
   <tr><td class="lt">
   <table class="wd100p"><tr><td class="ftn">
       <p class="ftn">Please keep in mind that we can not guarantee the accuracy or timeliness of the information
       on this website, so use with care.  We encourage you to double-check the information that is critical to you.</p>
       <p class="ftn">If you've found an error or have additional information that you would like to share,
       please don't hesitate to write. <a href="http://roadsidethoughts.com/vectrex/feedback.htm">Click here to contact us.</a></p></td>
       <td class="fcpy"><div class="fcpy"></div>Copyright 2016 <br />All Rights Reserved</td></tr>
       </table>
       </td></tr>


   <tr><td class="flm">This page was last modified: 12 Jan 2017</td></tr>
   <tr><td class="flm">By John Hall</td></tr>


   <tr><td>&#160;</td></tr></table>

&#160;</td><td>&#160;</td></tr>
</table>
</body></html>
